<app-navbar></app-navbar>

<div class="registration-container">
    <div class="notification success" *ngIf="linkSent">
        <div class="notification-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                <polyline points="22 4 12 14.01 9 11.01"></polyline>
            </svg>
        </div>
        <div class="notification-content">
            <span>Email Sent!</span>
            <p>A link to reset your password has been sent to your email.</p>
        </div>
        <button class="notification-close" (click)="dismissMessage()">×</button>
    </div>

    <div class="notification error" *ngIf="!emailExists && submitted">
        <div class="notification-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="15" y1="9" x2="9" y2="15"></line>
                <line x1="9" y1="9" x2="15" y2="15"></line>
            </svg>
        </div>
        <div class="notification-content">
            <span>Email Not Found</span>
            <p>The email address you entered doesn't exist in our records.</p>
        </div>
        <button class="notification-close" (click)="dismissMessage()">×</button>
    </div>

    <div *ngIf="!linkSent" class="forgot-password-content">
        <h1 class="form-title">Forgot Your Password?</h1>
        <p class="form-subtitle">Enter your email address below and we'll send you a link to reset your password.</p>
        
        <form (ngSubmit)="sendResetLink()" class="password-reset-form">
            <div class="form-group">
                <label for="email">Email Address</label>
                <input 
                    id="email" 
                    [(ngModel)]="email" 
                    name="email" 
                    type="email" 
                    placeholder="Enter your email"
                    required 
                    (input)="resetEmailExists()">
                <div *ngIf="!emailExists && submitted" class="error-message">
                    Email address not found.
                </div>
            </div>
            
            <div class="form-footer">
                <button type="submit" [disabled]="isLoading" class="register-button">
                    <span *ngIf="!isLoading">Send Reset Link</span>
                    <div class="loader" *ngIf="isLoading"></div>
                </button>
                <p class="login-link">Remember your password? <a (click)="redirectToLogin()">Login here</a></p>
            </div>
        </form>
    </div>
    
    <div *ngIf="linkSent" class="success-content">
        <div class="success-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                <polyline points="22 4 12 14.01 9 11.01"></polyline>
            </svg>
        </div>
        <h1 class="success-title">Check Your Email</h1>
        <p class="success-message">We've sent a password reset link to your email address.</p>
        <p class="success-instructions">If you don't see the email in your inbox, please check your spam folder.</p>
        <button class="register-button" (click)="sendResetLink()">Resend Email</button>
    </div>
    <div class="login-background">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
        <div class="shape shape-4"></div>
    </div>
      
    <div class="house-decoration">
        <div class="house house-1"></div>
        <div class="house house-2"></div>
        <div class="house house-3"></div>
        <div class="house house-4"></div>
        <div class="house house-5"></div>
        <div class="house house-6"></div>
    </div>
</div>

